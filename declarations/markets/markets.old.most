type Branch<K, V> = {left : Trie<K, V>; right : Trie<K, V>; size : Nat};
type Leaf<K, V> = {keyvals : AssocList/1<Key<K>, V>; size : Nat};
type Market/1 =
  {
    author : Author;
    var blockTimestampLast : Time;
    description : Description;
    endDate : Time;
    id : MarketId;
    var imageUrl : Url;
    images : [Text];
    var k : Balance;
    labels : [Text];
    var liquidity : Balance;
    var probabilities : [Probability];
    var providers : [Text];
    var reserves : [Balance];
    startDate : Time;
    var state : MarketState;
    title : Title;
    var totalShares : Shares;
    var volume : Balance
  };
type MarketId = Nat32;
type User =
  {var id : UserId; var markets : [UserMarket]; var seerBalance : Balance};
type UserId = Text;
actor {
  stable var markets :
    {
      #branch : Branch<MarketId, Market/1>;
      #empty;
      #leaf : Leaf<MarketId, Market/1>
    };
  stable var nextMarketId : Nat32;
  stable var users :
    {#branch : Branch<UserId, User>; #empty; #leaf : Leaf<UserId, User>}
};
